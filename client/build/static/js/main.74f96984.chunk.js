(this["webpackJsonpmovie-search"]=this["webpackJsonpmovie-search"]||[]).push([[0],{119:function(e,t,a){"use strict";(function(e){var n=a(4),c=a(15),r=a(7),i=a(216),s=a(217),o=a(208),l=a(211),u=a(219),j=a(212),b=a(213),d=a(218),h=a(220),p=a(207),O=a(0),x=a(215),f=a(123),m=a.n(f),g=a(122),v=a.n(g),y=a(1),k=Object(p.a)((function(e){return{container:{},form:{padding:e.spacing(3),display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:e.palette.background.paper,borderRadius:"15px 50px"},movieSearch:{color:e.palette.primary.main}}}));t.a=function(t){var a=t.token,p=t.handleLogin,f=k(),g=Object(O.useState)({username:"",password:""}),w=Object(r.a)(g,2),C=w[0],S=w[1],I=Object(O.useState)(!0),D=Object(r.a)(I,2),R=D[0],F=D[1],B=function(e){S((function(t){return Object(c.a)(Object(c.a)({},t),{},Object(n.a)({},e.target.id,e.target.value))}))};return Object(y.jsx)(i.a,{maxWidth:"sm",className:f.container,children:Object(y.jsxs)("form",{className:f.form,children:[Object(y.jsx)(s.a,{variant:"h1",className:f.movieSearch,children:"Movie Search"}),Object(y.jsx)(o.a,{style:{visibility:"".concat("error"===a?"visible":"hidden")},severity:"warning",children:"Your username and password don't match!"}),Object(y.jsx)(l.a,{required:!0,id:"username",label:"Username",value:C.username,onChange:B,margin:"dense"}),Object(y.jsxs)(u.a,{variant:"outlined",margin:"dense",children:[Object(y.jsx)(j.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(y.jsx)(b.a,{required:!0,id:"password",type:R?"password":"text",label:"Password",value:C.password,onChange:B,endAdornment:Object(y.jsx)(x.a,{position:"end",children:Object(y.jsx)(d.a,{"aria-label":"toggle password visibility",onClick:function(){F((function(e){return!e}))},edge:"end",children:R?Object(y.jsx)(v.a,{}):Object(y.jsx)(m.a,{})})})})]}),Object(y.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",onClick:function(t){t.preventDefault(),p(e.from("".concat(C.username,":").concat(C.password)).toString("base64"))},children:"Click me"})]})})}}).call(this,a(155).Buffer)},152:function(e,t,a){},154:function(e,t,a){},198:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(45),i=a.n(r),s=(a(152),a(15)),o=a(41),l=a.n(o),u=a(53),j=a(7),b=a(92),d=a(18),h=(a(154),a(119)),p=a(216),O=a(207),x=a(285),f=a(287),m=a(286),g=a(217),v=a(1);var y=function(e){var t=e.movie,a=(e.token,e.getDetail,Object(d.e)());return Object(v.jsxs)(x.a,{onClick:function(){return a.push(Object(s.a)(Object(s.a)({},a.location),{},{hash:"imdbID=".concat(t.imdbID)}))},sx:{width:300},style:{margin:"16px"},children:[Object(v.jsx)(m.a,{component:"img",height:"428px",image:t.Poster,alt:t.Title}),Object(v.jsxs)(f.a,{children:[Object(v.jsx)(g.a,{gutterBottom:!0,variant:"h5",component:"div",children:t.Title}),Object(v.jsx)(g.a,{gutterBottom:!0,variant:"subtitle1",component:"div",children:t.Year})]})]})},k=a(128),w=a(5),C=a(272),S=a(288),I=a(289),D=a(218),R=a(125),F=a.n(R),B=a(273),N=a(199),T=a(280),W=a(54),A=a.n(W),P=a(57),M=a.n(P),E=["children","onClose"],L=Object(w.a)(C.a)((function(e){var t=e.theme;return{"& .MuDialogContent-root":{padding:t.spacing(2)},"& .MuDialogActions-root":{padding:t.spacing(1)}}})),z=function(e){var t=e.children,a=e.onClose,n=Object(k.a)(e,E);return Object(v.jsxs)(S.a,Object(s.a)(Object(s.a)({sx:{m:0,p:2}},n),{},{children:[t,a?Object(v.jsx)(D.a,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(v.jsx)(F.a,{})}):null]}))};var Y=function(e){var t=e.token,a=Object(d.e)(),c=Object(N.a)(),r=(Object(B.a)(c.breakpoints.down("sm")),Object(n.useState)(M.a.parse(a.location.hash))),i=Object(j.a)(r,2),o=i[0],b=i[1],h=Object(n.useState)(null),p=Object(j.a)(h,2),O=p[0],x=p[1],f=function(){b(null),a.push(Object(s.a)(Object(s.a)({},a.location),{},{hash:null})),x(null)};return Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.location.hash){e.next=3;break}return f(),e.abrupt("return");case 3:return n=M.a.parse(a.location.hash),b(M.a.parse(a.location.hash)),e.prev=5,c={method:"get",url:"http://localhost:3001/api/search?i=".concat(n.imdbID,"&detail=true"),headers:{Authorization:"Basic ".concat(t)}},e.next=9,A()(c);case 9:200===(r=e.sent).status&&x(r.data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[,a.location.hash]),Object(v.jsx)("div",{children:Object(v.jsx)(L,{onClose:f,"aria-labelledby":"dialog-for-movie",open:Boolean(o),children:null===O||"False"===(null===O||void 0===O?void 0:O.Response)?Object(v.jsx)(v.Fragment,{children:'"Loading..."'}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(z,{id:O.imdbID,onClose:f,children:["".concat(O.Title," (").concat(O.Year,")"),Object(v.jsx)(g.a,{variant:"subtitle2",children:O.Director}),Object(v.jsx)(g.a,{gutterBottom:!0,children:"IMDb: ".concat(O.imdbRating,"/10")}),Object(v.jsx)(T.a,{name:"imdbRating",readOnly:!0,max:10,defaultValue:Number(O.imdbRating),title:"Out of: ".concat(O.imdbVotes)})]}),Object(v.jsxs)(I.a,{dividers:!0,children:[Object(v.jsx)("img",{style:{float:"right"},height:"80%",src:"".concat(O.Poster,"?w=164&h=164&fit=crop&auto=format"),alt:"".concat(O.Title," poster"),loading:"lazy"}),Object(v.jsxs)(g.a,{children:[Object(v.jsx)("b",{children:"Genre:"})," ".concat(O.Genre)]}),Object(v.jsxs)(g.a,{children:[Object(v.jsx)("b",{children:"Runtime:"})," ".concat(O.Runtime)]}),Object(v.jsxs)(g.a,{children:[Object(v.jsx)("b",{children:"Released:"})," ".concat(O.Released)]}),Object(v.jsxs)(g.a,{children:[Object(v.jsx)("b",{children:"Actors:"})," ".concat(O.Actors)]}),Object(v.jsxs)(g.a,{gutterBottom:!0,children:[Object(v.jsx)("b",{children:"Plot:"})," ".concat(O.Plot)]})]})]})})})},q=a(4),G=a(211),J=a(219),U=a(212),V=a(277),H=a(281),K=a(276),Q=a(275),X=a(274),Z=a(278);var $=function(e){var t=e.searchObj,a=e.searchInfo,n=e.setSearchInfo,c="True"===t.Response;return Object(v.jsx)(Z.a,{style:{visibility:c?"visible":"hidden"},count:c?Math.round(Number(t.totalResults/10)):0,page:Number(a.page),color:"primary",onChange:function(e,t){return n((function(e){return Object(s.a)(Object(s.a)({},e),{},{page:t})}))}})},_=Object(O.a)((function(e){return{container:{borderRadius:"15px 50px",backgroundColor:e.palette.background.paper,padding:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},form:{padding:e.spacing(3),backgroundColor:e.palette.background.paper,borderRadius:"15px 50px"}}}));var ee=function(e){var t=e.token,a=e.searchObj,c=e.setSearchObj,r=e.setSearching,i=_(),o=Object(d.e)(),b=Object(N.a)(),h=Object(B.a)(b.breakpoints.down("sm")),O=Object(n.useState)({s:"",y:"",type:"movie",page:1}),x=Object(j.a)(O,2),f=x[0],m=x[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(!0),""!==o.location.search){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,a={method:"get",url:"http://localhost:3001/api/search".concat(o.location.search),headers:{Authorization:"Basic ".concat(t)}},e.next=7,A()(a);case 7:200===(n=e.sent).status&&(c(n.data),r(!1)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[,o.location.search]),Object(n.useEffect)((function(){""!==o.location.search&&m(M.a.parse(o.location.search))}),[]),Object(n.useEffect)((function(){(f.s.length>1||4===f.y.length)&&k()}),[f]);var y=function(e,t){m((function(a){return Object(s.a)(Object(s.a)({},a),{},Object(q.a)({},t,e.target.value))}))},k=function(){var e=Object(s.a)(Object(s.a)({},f),{},{y:""===f.y?"":new Date(f.y).getFullYear()});o.push({search:new URLSearchParams(e).toString()})};return Object(v.jsx)(p.a,{maxWidth:"sm",children:Object(v.jsxs)("form",{className:i.container,children:[Object(v.jsx)(g.a,{component:"h1",variant:h?"h2":"h1",style:{alignStart:"start"},children:"Search..."}),Object(v.jsx)(G.a,{required:!0,fullWidth:!0,label:"What is it called...",name:"search",id:"search",value:f.s,onChange:function(e){return y(e,"s")},margin:"dense"}),Object(v.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",padding:"8px 0"},children:[Object(v.jsxs)(J.a,{style:{width:"40%"},children:[Object(v.jsx)(U.a,{id:"type",children:"What is it..."}),Object(v.jsxs)(V.a,{labelId:"type",name:"type",id:"type",label:"What is it...",value:f.type,onChange:function(e){return y(e,"type")},children:[Object(v.jsx)(H.a,{value:"movie",children:"Movie"}),Object(v.jsx)(H.a,{value:"series",children:"Series"})]})]}),Object(v.jsx)(X.b,{dateAdapter:Q.a,children:Object(v.jsx)(K.a,{views:["year"],style:{width:h?"20%":"40%"},label:"What year...",value:f.y,clearable:!0,onChange:function(e){null===e&&(e=""),m((function(t){return Object(s.a)(Object(s.a)({},t),{},{y:e})}))},renderInput:function(e){return Object(v.jsx)(G.a,Object(s.a)(Object(s.a)({},e),{},{helperText:null}))}})})]}),Object(v.jsx)($,{searchObj:a,searchInfo:f,setSearchInfo:m})]})})},te=Object(O.a)((function(e){return{container:{paddingTop:e.spacing(2)},paper:{padding:e.spacing(3),display:"flex",flexDirection:"column",justifyContent:"space-between",backgroundColor:e.palette.background.paper,borderRadius:"15px 50px"},movieCards:{minHeight:"80vh",display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",alignItems:"space-evenly",paddingTop:e.spacing(2)}}}));var ae=function(e){var t=e.token,a=te(),c=Object(n.useState)(!0),r=Object(j.a)(c,2),i=r[0],s=r[1],o=Object(n.useState)([]),l=Object(j.a)(o,2),u=l[0],b=l[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(p.a,{maxWidth:"xl",className:a.container,children:[Object(v.jsx)(ee,{token:t,searchObj:u,setSearchObj:b,setSearching:s}),Object(v.jsx)("div",{className:a.movieCards,children:i||"False"===u.Response?"":u.Search.map((function(e,t){return Object(v.jsx)(y,{movie:e},e.imdbID+t)}))})]}),Object(v.jsx)(Y,{token:t})]})};var ne=function(){var e=Object(n.useState)(),t=Object(j.a)(e,2),a=t[0],c=t[1],r=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:null,e.prev=1,n={method:"get",url:"http://localhost:3001/api/login",headers:{Authorization:"Basic ".concat(t)}},e.next=5,A()(n);case 5:200===e.sent.status?(c(t),localStorage.setItem("token",t)):c(null),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c("storage"===a?null:"error");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=localStorage.getItem("token");void 0!==e&&r(e,"storage")}),[]),Object(v.jsx)(b.a,{children:Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(d.a,{exact:!0,path:"/",render:function(e){return null===a||"error"===a?Object(v.jsx)(h.a,Object(s.a)(Object(s.a)({},e),{},{token:a,handleLogin:r})):Object(v.jsx)(ae,Object(s.a)(Object(s.a)({},e),{},{token:a}))}})})})},ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,291)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))},re=a(127),ie=a(282),se=Object(re.a)({palette:{mode:"light",primary:{main:"#f28b7c"},secondary:{main:"#712F79"}}});i.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(ie.a,{theme:se,children:Object(v.jsx)(ne,{})})}),document.getElementById("root")),ce()}},[[198,1,2]]]);
//# sourceMappingURL=main.74f96984.chunk.js.map